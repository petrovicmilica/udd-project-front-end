<mat-toolbar color="primary" class="toolbar">
  <span></span>
  <span class="spacer"></span>
  <button mat-stroked-button color="accent" (click)="navigateToSearch()">Search</button>
  <button mat-stroked-button color="accent" (click)="logout()">Logout</button>
</mat-toolbar>

<div class="container">
  <!-- Upload Section -->
  <mat-card class="upload-card mat-elevation-z3">
    <div class="upload-section">
      <input
        type="file"
        (change)="onFileSelected($event)"
        accept="application/pdf"
        id="fileInput"
        hidden
      />
      <label for="fileInput" class="upload-label" mat-stroked-button>
        Upload Document
      </label>
      <span class="file-name" *ngIf="selectedFile">{{ selectedFile.name }}</span>
      <button
        mat-flat-button
        color="primary"
        (click)="parseDocument()"
        [disabled]="!selectedFile"
      >
        Parse
      </button>
    </div>
  </mat-card>

  <!-- Form Section -->
  <mat-card class="form-card mat-elevation-z4" *ngIf="formVisible">
    <form [formGroup]="parserForm" (ngSubmit)="submitForm()" class="parser-form">
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Employee</mat-label>
          <input matInput formControlName="employeeName" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Security Organization</mat-label>
          <input matInput formControlName="securityOrg" />
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Affected Organization</mat-label>
          <input matInput formControlName="affectedOrg" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Severity</mat-label>
          <mat-select formControlName="incidentSeverity">
            <mat-option value="LOW">Low</mat-option>
            <mat-option value="MEDIUM">Medium</mat-option>
            <mat-option value="HIGH">High</mat-option>
            <mat-option value="CRITICAL">Critical</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Address of Affected Organization</mat-label>
        <input matInput formControlName="affectedAddress" />
      </mat-form-field>

      <div class="form-buttons">
        <button mat-flat-button color="primary" type="submit">Confirm</button>
        <button mat-stroked-button color="warn" type="button" (click)="cancelForm()">Cancel</button>
      </div>
    </form>
  </mat-card>
</div>
